image: maven:3.6.1

pipelines:
  default:
    - step:
        name: maven clean
        caches:
          - maven
        script:
          - mvn clean
    - step:
        name: maven package
        caches:
          - maven
        script:
          - mvn package 
         # - ls target/
 

          
  
                    
  
    - step:
        name: uploading artifacts
        script:
                 - pipe: JfrogDev/artifactory-generic-upload:0.3.2
                   variables:
                     ARTIFACTORY_URL: $url
                     ARTIFACTORY_USER: $user
                     ARTIFACTORY_PASSWORD: $pass
                     FILE_SPEC: 'true'
                     FILE_SPEC_PATH: './spec.json'
                     EXTRA_ARGS: '--props="test=pass"'
   